(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var application=exports.application=["$nitroApplication","$window",function($nitroApplication,$window){return{link:function link($scope,$element,$attrs){var currentTheme=null;$nitroApplication.setRootElement($element);$attrs.$observe("theme",function(){var theme=$attrs.theme;if(!theme)theme="android";if(theme===currentTheme)return;$element.addClass("nitro-disable-transitions");$element.removeClass("nitro-theme-"+currentTheme);$element.addClass("nitro-theme-"+theme);currentTheme=theme;$window.requestAnimationFrame(function(){$element.removeClass("nitro-disable-transitions")})})}}}];exports.__esModule=true},{}],2:[function(require,module,exports){"use strict";var content=exports.content=[function(){return{transclude:true,replace:true,template:'\n            <div class="nitro-content" ng-transclude>\n            </div>\n        '}}];exports.__esModule=true},{}],3:[function(require,module,exports){"use strict";var header=exports.header=[function(){return{transclude:true,replace:true,scope:{title:"@"},template:'\n            <div class="nitro-header">\n                <div class="nitro-header-title" ng-bind="title">\n                </div>\n                <nitro-transclude scope-policy="parent">\n                </nitro-transclude>\n            </div>\n        '}}];exports.__esModule=true},{}],4:[function(require,module,exports){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr)){return arr}else{var _arr=[];for(var _iterator=arr[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){_arr.push(_step.value);if(i&&_arr.length===i)break}return _arr}};var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var menu=exports.menu=["$nitroMenus",function($nitroMenus){return{transclude:true,replace:true,template:'\n            <div class="nitro-menu" ng-click="closeMenu()">\n                <div class="nitro-menu-target">\n                    <div class="nitro-menu-panel" ng-click="$event.stopPropagation()" ng-transclude>\n                    </div>\n                </div>\n            </div>\n            ',require:["nitroMenu"],controller:function(){function controller($element,$attrs){this.$element=$element;this.name=$attrs.name}_prototypeProperties(controller,null,{select:{value:function select(){this.$element.attr("active","active")},writable:true,configurable:true},unselect:{value:function unselect(){this.$element.removeAttr("active")},writable:true,configurable:true}});return controller}(),link:function link($scope,$element,$attrs,_ref){var _ref2=_slicedToArray(_ref,1);var nitroMenu=_ref2[0];$nitroMenus.registerMenu(nitroMenu);$scope.closeMenu=function(){nitroMenu.unselect()};$scope.$on("$destroy",function(){$nitroMenus.unregisterMenu(nitroMenu)})}}}];exports.__esModule=true},{}],5:[function(require,module,exports){"use strict";var page=exports.page=[function(){return{transclude:true,replace:true,template:'\n            <div class="nitro-page" nitro-transclude scope-policy="preserve">\n            </div>\n        '}}];exports.__esModule=true},{}],6:[function(require,module,exports){"use strict";var popover=exports.popover=["$nitroPopover",function($nitroPopover){return{transclude:true,replace:true,scope:true,template:'\n            <div class="nitro-popover-target">\n                <div class="nitro-popover-overlay" ng-click="$close()">\n                </div>\n                <div class="nitro-popover">\n                    <div class="nitro-popover-content" nitro-transclude scope-policy="preserve">\n                    </div>\n                </div>\n            </div>\n        ',link:function link($scope){$scope.$close=function(){$nitroPopover.close()}}}}];exports.__esModule=true},{}],7:[function(require,module,exports){"use strict";var sref=exports.sref=["$nitroNavigation",function($nitroNavigation){return{link:function link($scope,$element,$attrs){$element.on("click",function(){var options={replace:false};if($attrs.nitroSrefAction==="replace")options.replace=true;$nitroNavigation.goTo($attrs.nitroSref,options)})}}}];exports.__esModule=true},{}],8:[function(require,module,exports){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr)){return arr}else{var _arr=[];for(var _iterator=arr[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){_arr.push(_step.value);if(i&&_arr.length===i)break}return _arr}};var tab=exports.tab=[function(){return{transclude:"element",replace:true,scope:{name:"@",title:"@",sref:"@"},require:["^^nitroTabs"],link:function link($scope,$element,$attrs,_ref){var _ref2=_slicedToArray(_ref,1);var parentNitroTabs=_ref2[0];parentNitroTabs.addTab($scope);$scope.$on("$destroy",function(){parentNitroTabs.removeTab($scope)})}}}];exports.__esModule=true},{}],9:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var tabs=exports.tabs=["$nitroTools",function($nitroTools){return{transclude:true,replace:true,template:'\n            <div class="nitro-tabs">\n                <div class="nitro-tabs-def" ng-transclude>\n                </div>\n                <div class="nitro-tabs-bar">\n                    <div ng-repeat="tab in tabs" class="nitro-tab" nitro-sref="{{ tab.sref }}" nitro-sref-action="replace">\n                        <div class="nitro-tab-label" ng-bind="tab.title"></div>\n                        <div ng-if="$index == 0 && selected >= 0" class="nitro-tab-pointer" ng-style="{ transform : \'translateX(\' + (selected * 100) + \'%)\' }"></div>\n                    </div>\n                </div>\n                <nitro-view>\n                </nitro-view>\n            </div>\n        ',controller:function(){function controller($scope,$element){var _this=this;this.$scope=$scope;this.$scope.selected=-1;this.$scope.tabs=[];this.$scope.$on("$nitroViewChangeTransitionStart",function(e,after,before,options){if(before&&after&&before.tab&&after.tab){options.direction=_this.getDirection(before.tab,after.tab)}else{options.direction="direct"}var tab=after&&_this.findTabByName(after.tab);var index=tab?_this.$scope.tabs.indexOf(tab):-1;_this.$scope.selected=index})}_prototypeProperties(controller,null,{getDirection:{value:function getDirection(from,to){if(from===to)return"direct";var fromIndex=this.$scope.tabs.indexOf(this.findTabByName(from));var toIndex=this.$scope.tabs.indexOf(this.findTabByName(to));if(fromIndex===-1||toIndex===-1)return"direct";return fromIndex>toIndex?"left":"right"},writable:true,configurable:true},findTabByName:{value:function findTabByName(name){return $nitroTools.search(this.$scope.tabs,function(tab){return tab.name===name})},writable:true,configurable:true},addTab:{value:function addTab(){var tab=arguments[0]===undefined?{}:arguments[0];this.$scope.tabs.push(tab);return tab},writable:true,configurable:true},removeTab:{value:function removeTab(tab){this.$scope.tabs.splice(this.$scope.tabs.indexOf(tab),1)},writable:true,configurable:true}});return controller}()}}];exports.__esModule=true},{}],10:[function(require,module,exports){"use strict";var tool=exports.tool=[function(){return{replace:true,scope:{icon:"@",action:"&"},template:'\n            <div class="nitro-tool" ng-click="action({ $event : $event })">\n                <i class="icon" ng-class="icon"></i>\n            </div>\n            ',link:function link($scope){}}}];exports.__esModule=true},{}],11:[function(require,module,exports){"use strict";var tools=exports.tools=[function(){return{transclude:true,replace:true,template:'\n            <div class="nitro-tools" nitro-transclude scope-policy="preserve">\n            </div>\n        '}}];exports.__esModule=true},{}],12:[function(require,module,exports){"use strict";var transclude=exports.transclude=[function(){var scopePolicies={};scopePolicies.parent=function($scope){return $scope.$parent};scopePolicies.preserve=function($scope){return $scope};scopePolicies.child=function($scope){return $scope.$new()};scopePolicies["new"]=function($scope){return null};return{link:function link($scope,$element,$attrs,controller,$transclude){var scopePolicy=$attrs.scopePolicy;var action=$element.prop("tagNme")==="NITRO-TRANSCLUDE"?"replaceWith":"append";if(!scopePolicies.hasOwnProperty(scopePolicy))scopePolicy="new";var transclusionScope=scopePolicies[scopePolicy]($scope);$transclude(transclusionScope,function(clone){$element[action](clone)})}}}];exports.__esModule=true},{}],13:[function(require,module,exports){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr)){return arr}else{var _arr=[];for(var _iterator=arr[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){_arr.push(_step.value);if(i&&_arr.length===i)break}return _arr}};var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var view=exports.view=["$animate","$compile","$nitroNavigation","$rootScope",function($animate,$compile,$nitroNavigation,$rootScope){return{replace:true,template:'\n            <div class="nitro-view">\n            </div>\n        ',require:["nitroView","?^^nitroView"],controller:function(){function controller($scope,$element,$attrs){this.$element=$element;this.$scope=$scope;this._parent=null;this._children={};this._name=$attrs.name||"$main";this._listener=null;this._animationQueue=Promise.resolve();this._current=null}_prototypeProperties(controller,null,{setParent:{value:function setParent(parent){this._parent=parent;this._parent._children[this._name]=this},writable:true,configurable:true},registerRouteListener:{value:function registerRouteListener(){var _this=this;this._listener=$rootScope.$on("$nitroRouteChangeSuccess",function(e,_ref){var type=_ref.type;var route=_ref.route;_this.applyViewMapSet(type,_this.getViewMapSetFromRoute(route))});if($nitroNavigation.currentRoute){this.applyViewMapSet("direct",this.getViewMapSetFromRoute($nitroNavigation.currentRoute))}else{this.applyViewMapSet("direct",[])}},writable:true,configurable:true},getViewMapSetFromRoute:{value:function getViewMapSetFromRoute(route){function _pick(source,what){var result={};for(var _iterator=what[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){var key=_step.value;result[key]=source[key]}return result}var viewMapSet=[];for(var node=route;node;node=node.parent){if(!node.template&&!node.views)continue;var viewMap=node.views?angular.copy(node.views):{$main:node};for(var _iterator=Object.keys(viewMap)[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){var name=_step.value;var view=viewMap[name]=Object.create(viewMap[name]);view.parameters=_pick(route.parameters,node.keys)}viewMapSet.unshift(viewMap)}return viewMapSet},writable:true,configurable:true},applyViewMapSet:{value:function applyViewMapSet(type,viewMapSet){var index=arguments[2]===undefined?0:arguments[2];var viewMap=viewMapSet&&viewMapSet[index];var view=viewMap&&viewMap[this._name];if(!view){if(this._current){this.applyView(type,null);type="direct"}}else{if(!this._current||view.template!==this._current.template||!angular.equals(view.parameters,this._current.parameters)){this.applyView(type,view);type="direct"}}for(var _iterator=Object.keys(this._children)[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){var name=_step.value;this._children[name].applyViewMapSet(type,viewMapSet,index+1)}},writable:true,configurable:true},applyView:{value:function applyView(direction,view){var before=this._current;var after=this._current=Object.create(view);if(before&&before.scope)before.scope.$destroy();after.parameters=angular.copy(view.parameters);after.element=angular.element('<div class="nitro-view-panel"/>');after.scope=this.$scope.$new();after.scope.$on("$nitroViewChangeTransitionStart",function(e){e.stopPropagation()});this.$element.append(after.element);after.element.html(after.template||"");$compile(after.element.contents())(after.scope);after.element.detach();after.scope.$apply();this.prepareElementSwitch(after,before,{direction:direction,related:before&&after.group===before.group})},writable:true,configurable:true},prepareElementSwitch:{value:function prepareElementSwitch(after,before,options){var _this=this;this._animationQueue=this._animationQueue.then(function(){_this.$scope.$emit("$nitroViewChangeTransitionStart",after,before,options);_this.$element.attr("nitro-direction",options.direction);_this.$element.attr("nitro-related",options.related?"yes":"no");var leaving=Promise.resolve(before&&$animate.leave(before.element));var entering=Promise.resolve($animate.enter(after.element,_this.$element));$rootScope.$apply();return Promise.all([leaving,entering]).then(function(){_this.$element.removeAttr("nitro-direction");_this.$element.removeAttr("nitro-related")})})},writable:true,configurable:true},destroy:{value:function destroy(){if(this._parent){this._parent._children[this._name]=null;delete this._parent._children[this._name]}if(this._listener){this._listener();this._listener=null}},writable:true,configurable:true}});return controller}(),link:function link($scope,$element,$attrs,_ref){var _ref2=_slicedToArray(_ref,2);var nitroView=_ref2[0];var parentNitroView=_ref2[1];if(parentNitroView){nitroView.setParent(parentNitroView)}else{nitroView.registerRouteListener()}$scope.$on("$destroy",function(e){nitroView.destroy()})}}}];exports.__esModule=true},{}],14:[function(require,module,exports){"use strict";var application=require("./directives/application").application;var content=require("./directives/content").content;var header=require("./directives/header").header;var menu=require("./directives/menu").menu;var page=require("./directives/page").page;var popover=require("./directives/popover").popover;var sref=require("./directives/sref").sref;var tabs=require("./directives/tabs").tabs;var tab=require("./directives/tab").tab;var tools=require("./directives/tools").tools;var tool=require("./directives/tool").tool;var transclude=require("./directives/transclude").transclude;var view=require("./directives/view").view;var ApplicationProvider=require("./services/Application").ApplicationProvider;var HistoryBackProvider=require("./services/HistoryBack").HistoryBackProvider;var LocationProvider=require("./services/Location").LocationProvider;var MenusProvider=require("./services/Menus").MenusProvider;var NavigationProvider=require("./services/Navigation").NavigationProvider;var PopoverProvider=require("./services/Popover").PopoverProvider;var ToolsProvider=require("./services/Tools").ToolsProvider;window.angular.module("nitro",[]).directive("nitroApplication",application).directive("nitroContent",content).directive("nitroHeader",header).directive("nitroMenu",menu).directive("nitroPage",page).directive("nitroPopover",popover).directive("nitroSref",sref).directive("nitroTabs",tabs).directive("nitroTab",tab).directive("nitroTools",tools).directive("nitroTool",tool).directive("nitroTransclude",transclude).directive("nitroView",view).provider("$nitroApplication",ApplicationProvider).provider("$nitroHistoryBack",HistoryBackProvider).provider("$nitroLocation",LocationProvider).provider("$nitroMenus",MenusProvider).provider("$nitroNavigation",NavigationProvider).provider("$nitroPopover",PopoverProvider).provider("$nitroTools",ToolsProvider)},{"./directives/application":1,"./directives/content":2,"./directives/header":3,"./directives/menu":4,"./directives/page":5,"./directives/popover":6,"./directives/sref":7,"./directives/tab":8,"./directives/tabs":9,"./directives/tool":10,"./directives/tools":11,"./directives/transclude":12,"./directives/view":13,"./services/Application":15,"./services/HistoryBack":16,"./services/Location":17,"./services/Menus":18,"./services/Navigation":19,"./services/Popover":20,"./services/Tools":21}],15:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Application=function(){function Application(){this.rootElement=null}_prototypeProperties(Application,null,{setRootElement:{value:function setRootElement(element){if(this.rootElement)throw new Error("Tried to set more than a single root element");if(!element&&this.rootElement)throw new Error("The root element cannot be unset once set");this.rootElement=element},writable:true,configurable:true}});return Application}();var ApplicationProvider=exports.ApplicationProvider=function ApplicationProvider(){this.$get=[function(){return new Application({},{})}]};exports.__esModule=true},{}],16:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var HistoryBack=function(){function HistoryBack(_ref,_ref2){var _this=this;var $nitroLocation=_ref.$nitroLocation;var $nitroTools=_ref.$nitroTools;var $rootScope=_ref.$rootScope;var $window=_ref.$window;this.$nitroLocation=$nitroLocation;this.$nitroTools=$nitroTools;this.$rootScope=$rootScope;this.$window=$window;this._actions={};this.$rootScope.$on("$nitroLocationChangeSuccess",function(e,_ref3){var forward=_ref3.forward;var state=_ref3.state;if(!state.$nitroHistoryBackActionId)return null;if(forward)return _this.$window.history.forward();if(state.$nitroHistoryBackTriggerActions&&_this._actions[state.$nitroHistoryBackActionId])_this._actions[state.$nitroHistoryBackActionId]();return _this.$window.history.back()})}_prototypeProperties(HistoryBack,null,{registerBackAction:{value:function registerBackAction(fn){var _this=this;var id=this.$nitroTools.uuidv4();this._actions[id]=fn;this.$nitroLocation.path(null,{state:{$nitroHistoryBackTriggerActions:true,$nitroHistoryBackActionId:id}});this.$nitroLocation.path(null,{state:{$nitroHistoryBackTriggerActions:false,$nitroHistoryBackActionId:id}});return function(){_this._actions[id]=null}},writable:true,configurable:true}});return HistoryBack}();var HistoryBackProvider=exports.HistoryBackProvider=function HistoryBackProvider(){this.$get=["$nitroLocation","$nitroTools","$rootScope","$window",function($nitroLocation,$nitroTools,$rootScope,$window){return new HistoryBack({$nitroLocation:$nitroLocation,$nitroTools:$nitroTools,$rootScope:$rootScope,$window:$window},{})}]};exports.__esModule=true},{}],17:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Location=function(){function Location(_ref,_ref2){var _this=this;var $rootScope=_ref.$rootScope;var $window=_ref.$window;this.$rootScope=$rootScope;this.$window=$window;this._currentStateId=$window.history.state&&$window.history.state.$nitroLocationStateId||0;this.$window.addEventListener("popstate",function(e){var previousStateId=_this._currentStateId;var newStateId=_this._currentStateId=e.state?e.state.$nitroLocationStateId:0;$rootScope.$broadcast("$nitroLocationChangeSuccess",{forward:newStateId>previousStateId,state:e.state||{}})})}_prototypeProperties(Location,null,{path:{value:function path(path){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$state=_ref.state;var state=_ref$state===undefined?{}:_ref$state;var _ref$replace=_ref.replace;var replace=_ref$replace===undefined?false:_ref$replace;if(typeof path==="undefined")return this.$window.location.hash.substr(1);if(!path)path=this.path();if(path[0]!=="/")path="/"+path;this._currentStateId=state.$nitroLocationStateId=!replace?this._currentStateId+1:this._currentStateId;var action=replace?"replaceState":"pushState";this.$window.history[action](state,null,"#"+path);this.$rootScope.$broadcast("$nitroLocationChangeSuccess",{forward:true,state:state});return this},writable:true,configurable:true}});return Location}();var LocationProvider=exports.LocationProvider=function LocationProvider(){this.$get=["$rootScope","$window",function($rootScope,$window){return new Location({$rootScope:$rootScope,$window:$window},{})}]};exports.__esModule=true},{}],18:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Menus=function(){function Menus(){this._menus=[]}_prototypeProperties(Menus,null,{registerMenu:{value:function registerMenu(menu){this._menus.push(menu)},writable:true,configurable:true},unregisterMenu:{value:function unregisterMenu(menu){this._menus.splice(this._menus.indexOf(menu),1)},writable:true,configurable:true},select:{value:function select(name){for(var _iterator=this._menus[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){var menu=_step.value;if(menu.name===name)break}if(menu){menu.select()}},writable:true,configurable:true},clear:{value:function clear(){for(var _iterator=this._menus[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){var menu=_step.value;menu.unselect()}},writable:true,configurable:true}});return Menus}();var MenusProvider=exports.MenusProvider=function MenusProvider(){this.$get=[function(){return new Menus({},{})}]};exports.__esModule=true},{}],19:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Navigation=function(){function Navigation(_ref,_ref2){var _this=this;var $nitroLocation=_ref.$nitroLocation;var $nitroTools=_ref.$nitroTools;var $rootScope=_ref.$rootScope;var $templateRequest=_ref.$templateRequest;var router=_ref2.router;this.$nitroLocation=$nitroLocation;this.$nitroTools=$nitroTools;this.$rootScope=$rootScope;this.$templateRequest=$templateRequest;this._router=router;this._callbacks={};this.currentRoute=null;this.$rootScope.$on("$nitroLocationChangeSuccess",function(e,_ref3){var forward=_ref3.forward;var state=_ref3.state;_this._triggerRouteChange(_this._resolveUrl($nitroLocation.path()),{type:forward?"forward":"backward"})});this._triggerRouteChange(this._resolveUrl($nitroLocation.path()),{type:"direct"})}_prototypeProperties(Navigation,null,{goTo:{value:function goTo(path){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$replace=_ref.replace;var replace=_ref$replace===undefined?false:_ref$replace;var route=this._resolveUrl(path);if(!route)throw new Error("Invalid path "+path);this.$nitroLocation.path(path,{replace:replace})},writable:true,configurable:true},_loadTemplate:{value:function _loadTemplate(url){return this.$templateRequest(url)},writable:true,configurable:true},_loadObjectTemplate:{value:function _loadObjectTemplate(object){if(typeof object.template==="string")return Promise.resolve(object.templatePromise);object.template=typeof object.template==="undefined"?this._loadTemplate(object.templateUrl):object.template;return object.template.then(function(template){object.template=template})},writable:true,configurable:true},_loadRouteTemplates:{value:function _loadRouteTemplates(route){var _this=this;if(!route.views)return this._loadObjectTemplate(route);return Promise.all(Object.keys(route.views).map(function(name){return _this._loadObjectTemplate(route.views[name])}))},writable:true,configurable:true},_loadAllRequiredTemplates:{value:function _loadAllRequiredTemplates(route){var templateLoaders=[];for(var node=route;node;node=node.parent)templateLoaders.push(this._loadRouteTemplates(node));return Promise.all(templateLoaders)},writable:true,configurable:true},_triggerRouteChange:{value:function _triggerRouteChange(route,_ref){var _this=this;var type=_ref.type;if(!route)return;this._loadAllRequiredTemplates(route).then(function(){_this.$rootScope.$broadcast("$nitroRouteChangeSuccess",{route:_this._currentRoute=route,type:type})})},writable:true,configurable:true},_resolveUrl:{value:function _resolveUrl(path){return this._router(path)},writable:true,configurable:true}});return Navigation}();var NavigationProvider=exports.NavigationProvider=function(){function NavigationProvider(){var _this=this;this._routes=[];this.$get=["$nitroLocation","$nitroTools","$rootScope","$templateRequest",function($nitroLocation,$nitroTools,$rootScope,$templateRequest){return new Navigation({$nitroLocation:$nitroLocation,$nitroTools:$nitroTools,$rootScope:$rootScope,$templateRequest:$templateRequest},{router:_this._getRouter()})}]}_prototypeProperties(NavigationProvider,null,{route:{value:function route(name,options){this._routes.push(angular.extend({name:name},options));return this},writable:true,configurable:true},_finalizeRoutes:{value:function _finalizeRoutes(){var routeByName={};function _register(route){routeByName[route.name]=route}function _setupRouteHierarchy(route){var name=route.name;var pivot=name.lastIndexOf(".");var parentName=name.substr(0,pivot);routeByName[name]=route;if(!parentName)return;if(!routeByName[parentName])throw new Error("The parent route of "+name+" has not been defined");route.parent=routeByName[parentName];if(routeByName[parentName].pattern){route.pattern=routeByName[parentName].pattern+route.pattern}}function _buildRegexp(route){var regexpString=route.pattern;route.keys=[];if(!regexpString)return;regexpString=regexpString.replace(/:(\w+)(\(?)/g,function(_,name,regexp){route.keys.push(name);return regexp?"(":"([\\w-]+)"});route.regexp=new RegExp("^"+regexpString+"$")}function _excludeAbstractRoutes(route){return!route.abstract}var routes=this._routes.slice();routes.forEach(_register);routes.forEach(_setupRouteHierarchy);routes.forEach(_buildRegexp);return routes.filter(_excludeAbstractRoutes)},writable:true,configurable:true},_getRouter:{value:function _getRouter(){var routes=this._finalizeRoutes();var otherwise=this._otherwise;return function router(path){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$otherwiseRedirect=_ref.otherwiseRedirect;var otherwiseRedirect=_ref$otherwiseRedirect===undefined?true:_ref$otherwiseRedirect;var match;for(var t=0,T=routes.length;t<T;++t)if(match=path.match(routes[t].regexp))break;if(!match&&otherwise&&otherwiseRedirect)return router(otherwise,{otherwiseRedirect:false});if(!match)return null;var route=Object.create(routes[t]);route.path=path;route.parameters={};for(var t=0,T=route.keys.length;t<T;++t)route.parameters[route.keys[t]]=match[1+t];return route}},writable:true,configurable:true}});return NavigationProvider}();exports.__esModule=true},{}],20:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Popover=function(){function Popover(_ref,_ref2){var $animate=_ref.$animate;var $compile=_ref.$compile;var $nitroApplication=_ref.$nitroApplication;var $nitroHistoryBack=_ref.$nitroHistoryBack;var $templateRequest=_ref.$templateRequest;this.$animate=$animate;this.$compile=$compile;this.$nitroApplication=$nitroApplication;this.$nitroHistoryBack=$nitroHistoryBack;this.$templateRequest=$templateRequest}_prototypeProperties(Popover,null,{fromTemplateUrl:{value:function fromTemplateUrl(templateUrl,options){var _this=this;var elementPromise=this.$templateRequest(templateUrl).then(function(template){return _this.create(angular.extend({template:template},options))});return{open:function(target){elementPromise.then(function(element){_this.open(element,target)})},close:function(){elementPromise.then(function(element){_this.close(element)})}}},writable:true,configurable:true},create:{value:function create(_ref){var template=_ref.template;var $scope=_ref.$scope;var element=angular.element("<nitro-popover/>");element.html(template||"");this.$nitroApplication.rootElement.append(element);this.$compile(element)($scope);$scope.$on("$destroy",function(){element.remove()});return element},writable:true,configurable:true},open:{value:function open(element,target){var _this=this;if(!element||!target)return;if(target.currentTarget)target=target.currentTarget;this._defuseBackAction=this.$nitroHistoryBack.registerBackAction(function(){_this.close()});var boundingRect=angular.element(target)[0].getBoundingClientRect();element.css("left",""+boundingRect.left+"px");element.css("top",""+boundingRect.top+"px");element.css("width",""+boundingRect.width+"px");element.css("height",""+boundingRect.height+"px");this._currentElement=element;this.$animate.addClass(element,"nitro-active")},writable:true,configurable:true},close:{value:function close(element){if(element&&this._currentElement!==element)return;if(this._defuseBackAction)this._defuseBackAction();if(this._currentElement){this.$animate.removeClass(this._currentElement,"nitro-active");this._currentElement=null}},writable:true,configurable:true}});return Popover}();var PopoverProvider=exports.PopoverProvider=function PopoverProvider(){this.$get=["$animate","$compile","$nitroApplication","$nitroHistoryBack","$templateRequest",function($animate,$compile,$nitroApplication,$nitroHistoryBack,$templateRequest){return new Popover({$animate:$animate,$compile:$compile,$nitroApplication:$nitroApplication,$nitroHistoryBack:$nitroHistoryBack,$templateRequest:$templateRequest},{})}]};exports.__esModule=true},{}],21:[function(require,module,exports){"use strict";var _prototypeProperties=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};var Tools=function(){function Tools(){}_prototypeProperties(Tools,null,{search:{value:function search(array,predicate){for(var t=0,T=array.length;t<T;++t)if(predicate(array[t],t,array))return array[t];return null},writable:true,configurable:true},searchIndex:{value:function searchIndex(array,predicate){for(var t=0,T=array.length;t<T;++t)if(predicate(array[t],t,array))return t;return-1},writable:true,configurable:true},uuidv4:{value:function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0;var v=c=="x"?r:r&3|8;return v.toString(16)})},writable:true,configurable:true}});return Tools}();var ToolsProvider=exports.ToolsProvider=function ToolsProvider(){this.$get=[function(){return new Tools({},{})}]};exports.__esModule=true},{}]},{},[14]);